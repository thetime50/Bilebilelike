{"version":3,"sources":["webpack:///src/components/RouteScroll/Nav.vue","webpack:///./src/components/RouteScroll/Nav.vue?d2a1","webpack:///./src/components/RouteScroll/Nav.vue","webpack:///src/components/RouteScroll/RouteScroll.vue","webpack:///./src/components/RouteScroll/RouteScroll.vue?ebf2","webpack:///./src/components/RouteScroll/RouteScroll.vue","webpack:///src/pages/MainPage/MainPage.vue","webpack:///./src/pages/MainPage/MainPage.vue?a76d","webpack:///./src/pages/MainPage/MainPage.vue"],"names":["Nav","name","props","nowIndex","type","Number","default","cursorWidth","positionSync","routes","Array","data","mounted","_this","this","$nextTick","_positionSync","watch","before","after","computed","navlist","$refs","cursors","items","methods","tabClick","item","$router","replace","path","x","i","length","itemW","clientWidth","cursorW","style","right","RouteScroll_Nav","render","_vm","_h","$createElement","_c","_self","staticClass","_l","index","key","ref","refInFor","class","active","on","click","$event","_v","_s","text","width","staticRenderFns","components_RouteScroll_Nav","__webpack_require__","normalizeComponent","ssrContext","setAttr2Def","slideConfDef","autoPlay","showDot","RouteScroll","components","Slide","nav","Object","slideConf","scrollConf","slideConfDt","scrollConfDt","created","probeType","stopPropagation","snap","loop","threshold","speed","slideBS","slideIndex","slide","currentPageIndex","currentIndex","_ref","y","pageWidth","toPage","_triggerRouteChange","$route","$route.path","routeComponents","_this2","comps","forEach","comp","getMatchedComponents","push","afterComponents","slice","beforeComponents","afterIndex","beforeIndex","s","RegExp","test","isBefore","routeChange","$children","_routeChange","RouteScroll_RouteScroll","tag","attrs","components_RouteScroll_RouteScroll","RouteScroll_normalizeComponent","MainPage","HeaderTop","MainPage_MainPage","left-icon-type","to","query","page","MainPage_Component","MainPage_normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/0.a8c1f9bfc4889f17fbf9.js","sourcesContent":["<template>\r\n<div class=\"component-nav\">\r\n  <ul class=\"nav-list\">\r\n    <li class=\"item\" v-for=\"(item,index) in routes\" ref=\"items\" :key=\"index\">\r\n      <div class=\"item-text\" :class=\"{'active': nowIndex===index}\"\r\n        @click=\"tabClick(item)\">\r\n        {{item.text}}\r\n      </div>\r\n      <div class=\"item-cursor\" ref=\"cursors\" \r\n        :style=\"{width:cursorWidth+'%'}\"></div>\r\n    </li>\r\n  </ul>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"Vav\",\r\n  props:{\r\n    nowIndex      :{type: Number ,default: 0},              //文本高亮\r\n    cursorWidth   :{type: Number ,default: 70},             //70%\r\n    positionSync  :{type: Number ,default: 0},              //光标位置同步\r\n    routes        :{type: Array  ,default: ()=>{return []}},//{text:\"\",path:\"\"}\r\n  },\r\n  data () {\r\n    return {\r\n    };\r\n  },\r\n  mounted () {\r\n    this.$nextTick(()=>{\r\n      this._positionSync(this.positionSync)\r\n    })\r\n  },\r\n  watch: {\r\n    positionSync(before,after){\r\n      this._positionSync(before)\r\n    }\r\n  },\r\n  computed: {\r\n    navlist(){ return this.$refs.navlist },\r\n    cursors(){ return this.$refs.cursors },\r\n    items()   { return this.$refs.items },\r\n  },\r\n  methods: {\r\n    tabClick(item){\r\n      this.$router.replace(item.path)\r\n    },\r\n    _positionSync(x){\r\n      let items=this.items\r\n      let cursors=this.cursors\r\n      for(let i=0;i<cursors.length;i++){\r\n        let itemW=this.items[i].clientWidth\r\n        let cursorW=this.cursors[i].clientWidth\r\n        cursors[i].style.right=itemW*i+x*itemW+(itemW-cursorW)/2+\"px\"\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"stylus\"  rel=\"stylesheet/stylus\">\r\n  @import \"../../assets/style/index.styl\"\r\n  $line = 2.8rem\r\n  .component-nav\r\n    position relative\r\n    border-bottom 1px solid $def-line-color\r\n    .nav-list\r\n      position sticky\r\n      width 100%\r\n      height $line\r\n      overflow hidden\r\n      .item\r\n        position relative\r\n        display inline-block\r\n        bottom 0\r\n        padding 0 0.2rem\r\n        overflow hidden\r\n        .item-text\r\n          height $line\r\n          line-height $line\r\n          color $def-char-color\r\n          text-align center\r\n          padding 0 0.5rem\r\n          &.active\r\n            color $blbl-pink\r\n        .item-cursor\r\n          position absolute\r\n          height 0.15rem\r\n          // width 80%//2.5rem//\r\n          bottom 0\r\n          background-color $blbl-pink\r\n          transition opacity 0.2s ease-out\r\n\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/RouteScroll/Nav.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"component-nav\"},[_c('ul',{staticClass:\"nav-list\"},_vm._l((_vm.routes),function(item,index){return _c('li',{key:index,ref:\"items\",refInFor:true,staticClass:\"item\"},[_c('div',{staticClass:\"item-text\",class:{'active': _vm.nowIndex===index},on:{\"click\":function($event){return _vm.tabClick(item)}}},[_vm._v(\"\\r\\n        \"+_vm._s(item.text)+\"\\r\\n      \")]),_vm._v(\" \"),_c('div',{ref:\"cursors\",refInFor:true,staticClass:\"item-cursor\",style:({width:_vm.cursorWidth+'%'})})])}),0)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-f96771dc\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/RouteScroll/Nav.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-f96771dc\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Nav.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Nav.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Nav.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-f96771dc\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Nav.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/RouteScroll/Nav.vue\n// module id = null\n// module chunks = ","<template>\r\n<div class=\"component-route-scroll\">\r\n  <div class=\"nav\">\r\n    <component :is=\"nav\"\r\n      :nowIndex=\"currentIndex\"\r\n      :positionSync=\"positionSync\"\r\n      :routes=\"routes\"/>\r\n  </div>\r\n  <div class=\"route-scroll-slide\">\r\n    <slide :slideConf=\"slideConfDt\" :scrollConf=\"scrollConfDt\" ref=\"slide\">\r\n      <component v-for=\"(comp,index) in afterComponents\" :is=\"comp\" :key=\"index\"/>\r\n      <router-view :key=\"currentIndex\"/>\r\n      <component v-for=\"(comp,index) in beforeComponents\" :is=\"comp\" :key=\"index+currentIndex+1\"/>\r\n    </slide>\r\n  </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\n  import Nav from \"./Nav.vue\"\r\n  import Slide from \"./Slide.vue\"\r\n  import tool from \"@/assets/js/tool.js\"\r\n\r\n  var {setAttr2Def}=tool\r\n  const slideConfDef={\r\n    autoPlay  :false,\r\n    showDot   :false,\r\n  }\r\n  const scrollConfDef=function (){ return {\r\n    probeType:3,\r\n    stopPropagation:false,\r\n    click: false,\r\n    // eventPassthrough : \"vertical\",\r\n    snap: {\r\n      loop: false,\r\n      threshold: 0.3,\r\n      speed: 400,\r\n    },\r\n  }}\r\n\r\nexport default {\r\n  name: \"RouteScroll\",\r\n  components: {\r\n    Slide,\r\n  },\r\n  props:{\r\n    routes    :{type: Array  ,default: ()=>{return []}},//{text:\"\",path:\"\"}\r\n    nav       :{type: Object ,default: ()=>{return Nav}},\r\n    slideConf :{type: Object ,default: ()=>{return {}}},\r\n    scrollConf:{type: Object ,default: ()=>{return {}}},\r\n  },\r\n  data () {\r\n    return {\r\n      positionSync:0,\r\n      slideConfDt:{},\r\n      scrollConfDt:{},\r\n    };\r\n  },\r\n  created () {\r\n    this.slideConfDt  =setAttr2Def(this.slideConf ,slideConfDef)\r\n    this.scrollConfDt =setAttr2Def(this.scrollConf,scrollConfDef())\r\n  },\r\n  mounted () {\r\n    this.$nextTick(()=>{\r\n      // console.log(this.slideBS)\r\n      // 滑动后更新path\r\n      this.slideBS.on('scrollEnd',()=>{\r\n        let slideIndex=this.slide.currentPageIndex\r\n        if(slideIndex!=this.currentIndex){\r\n          this.$router.replace(this.routes[slideIndex].path)\r\n        }\r\n      })\r\n      this.slideBS.on('scroll',({x,y})=>{\r\n        this.positionSync=x/this.slide.pageWidth\r\n      })\r\n      this.slide.toPage(this.currentIndex,0,0)\r\n      this._triggerRouteChange(this.$route.path,\"\")\r\n    })\r\n  },\r\n  watch: {\r\n    currentIndex(before,after){\r\n      this.slide.toPage(before)\r\n    },\r\n    \"$route.path\"(before,after){\r\n      this._triggerRouteChange(before,after)\r\n    },\r\n  },\r\n  computed: {\r\n    routeComponents(){\r\n      let comps=[]\r\n      this.routes.forEach((item) => {\r\n        // console.log()\r\n        let comp=this.$router.getMatchedComponents(item.path)\r\n        comps.push(comp[comp.length-1])\r\n      });\r\n      return comps\r\n    },\r\n    currentIndex(){\r\n      let i=0\r\n      for(i=0;i<this.routes.length;i++){\r\n        if(this.routes[i].path === this.$route.path){\r\n          return i\r\n        }\r\n      }\r\n    },\r\n    afterComponents(){\r\n      return this.routeComponents.slice(0,this.currentIndex)\r\n    },\r\n    beforeComponents(){\r\n      return this.routeComponents.slice(this.currentIndex+1)\r\n    },\r\n    slide(){\r\n      return this.$refs.slide\r\n    },\r\n    slideBS(){\r\n      return this.$refs.slide.slide\r\n    },\r\n  },\r\n  methods: {\r\n    _triggerRouteChange(before,after){\r\n      let isAfter = (s)=>new RegExp(\"^\"+after+\"\\\\b\").test(s)\r\n      let isBefore = (s)=>new RegExp(\"^\"+before+\"\\\\b\").test(s)\r\n      let afterIndex=-1,beforeIndex=-1\r\n      this.routes.forEach((item,index)=>{\r\n        if(isAfter(item.path))\r\n          afterIndex=index\r\n        if(isBefore(item.path))\r\n          beforeIndex=index\r\n      })\r\n      if(afterIndex>=0){\r\n        let routeChange= this.slide.$children[afterIndex].routeChange\r\n        routeChange && routeChange({type:\"leave \",before,after})\r\n      }\r\n      if(beforeIndex>=0){\r\n        let routeChange= this.slide.$children[beforeIndex].routeChange\r\n        routeChange && routeChange({type:\"enter\",before,after})\r\n      }\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"stylus\"  rel=\"stylesheet/stylus\">\r\n.component-route-scroll\r\n  width 100%\r\n  .route-scroll-slide\r\n    position: relative\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/RouteScroll/RouteScroll.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"component-route-scroll\"},[_c('div',{staticClass:\"nav\"},[_c(_vm.nav,{tag:\"component\",attrs:{\"nowIndex\":_vm.currentIndex,\"positionSync\":_vm.positionSync,\"routes\":_vm.routes}})],1),_vm._v(\" \"),_c('div',{staticClass:\"route-scroll-slide\"},[_c('slide',{ref:\"slide\",attrs:{\"slideConf\":_vm.slideConfDt,\"scrollConf\":_vm.scrollConfDt}},[_vm._l((_vm.afterComponents),function(comp,index){return _c(comp,{key:index,tag:\"component\"})}),_vm._v(\" \"),_c('router-view',{key:_vm.currentIndex}),_vm._v(\" \"),_vm._l((_vm.beforeComponents),function(comp,index){return _c(comp,{key:index+_vm.currentIndex+1,tag:\"component\"})})],2)],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-16f96e84\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/RouteScroll/RouteScroll.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-16f96e84\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./RouteScroll.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./RouteScroll.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./RouteScroll.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-16f96e84\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./RouteScroll.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/RouteScroll/RouteScroll.vue\n// module id = null\n// module chunks = ","<template>\n<div class=\"main-page\">\n  <header-top left-icon-type=\"leftMenu\">\n    <template>\n      <div class=\"heater-v-slot\">\n        <router-link class=\"m-search\" :to=\"{path:'/search',query:{page:'MainPage'}}\"><!-- search -->\n          <div class=\"search-back-div\">\n            <i class=\"iconfont icon-sousuo\"></i>\n          </div>\n        </router-link>\n        <router-link class=\"m-game\" :to=\"'/game'\"><!-- game -->\n          <i class=\"iconfont icon-youxifull\"></i>\n        </router-link>\n        <router-link class=\"m-offline-cache\" :to=\"'/offlinecache'\"><!-- offline-cache -->\n          <i class=\"iconfont icon-xiazai\"></i>\n        </router-link>\n        <router-link class=\"m-message\" :to=\"'/message'\"><!-- message -->\n          <i class=\"iconfont icon-xiaoxi\"></i>\n        </router-link>\n      </div>\n    </template>\n  </header-top>\n  <route-scroll :routes=\"routes\"/>\n</div>\n</template>\n\n<script>\nimport HeaderTop from \"../../components/HeaderTop/HeaderTop.vue\"\nimport RouteScroll from \"../../components/RouteScroll/RouteScroll.vue\"\n\nconst routes=[\n  {text:\"直播\",path:\"/mainpage/zhibo\"},\n  {text:\"推荐\",path:\"/mainpage/tuijian\"},\n  {text:\"热门\",path:\"/mainpage/remen\"},\n  {text:\"追番\",path:\"/mainpage/zhuifan\"},\n  {text:\"影视\",path:\"/mainpage/yingshi\"},\n]\n\nexport default {\n  name: \"MainPage\",\n  components: {\n    HeaderTop,\n    RouteScroll,\n  },\n  data () {\n    return {\n      routes:routes,\n    };\n  }\n}\n</script>\n\n<style lang=\"stylus\"  rel=\"stylesheet/stylus\">\n  @import \"../../assets/style/index.styl\"\n  .main-page .header .div-section2//尽量外面套自己的class 不要去引内部的class\n    width 100%\n    .heater-v-slot\n      display: -webkit-flex; /* Safari */\n      display: flex;\n      width 100%\n      // &>[m-*]\n      //   display: table-cell;\n      //   vertical-align: middle;//没啥效果??\n      .m-search //todo 这里回头加到henderTop组件里\n        flex 6\n        .search-back-div\n          width auto\n          height $com-iconsize*1.6\n          position relative\n          top -@height*0.15\n          margin-left 0.4rem\n          margin-right 0.2rem\n          background-color $blbl-search-pink\n          border-radius @height*0.5\n          text-align left\n          padding-left @height*0.27\n          .iconfont\n            margin 0\n            position relative\n            top @height*0.095\n            opaticy 0.1\n      .m-game\n      .m-offline-cache\n      .m-message\n        margin 0 $com-iconsize*0.1\n    .m-game .iconfont.icon-youxifull\n      font-size $com-iconsize*1.2\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/MainPage/MainPage.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"main-page\"},[_c('header-top',{attrs:{\"left-icon-type\":\"leftMenu\"}},[[_c('div',{staticClass:\"heater-v-slot\"},[_c('router-link',{staticClass:\"m-search\",attrs:{\"to\":{path:'/search',query:{page:'MainPage'}}}},[_c('div',{staticClass:\"search-back-div\"},[_c('i',{staticClass:\"iconfont icon-sousuo\"})])]),_vm._v(\" \"),_c('router-link',{staticClass:\"m-game\",attrs:{\"to\":'/game'}},[_c('i',{staticClass:\"iconfont icon-youxifull\"})]),_vm._v(\" \"),_c('router-link',{staticClass:\"m-offline-cache\",attrs:{\"to\":'/offlinecache'}},[_c('i',{staticClass:\"iconfont icon-xiazai\"})]),_vm._v(\" \"),_c('router-link',{staticClass:\"m-message\",attrs:{\"to\":'/message'}},[_c('i',{staticClass:\"iconfont icon-xiaoxi\"})])],1)]],2),_vm._v(\" \"),_c('route-scroll',{attrs:{\"routes\":_vm.routes}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-46a45305\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/MainPage/MainPage.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-46a45305\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./MainPage.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./MainPage.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./MainPage.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-46a45305\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./MainPage.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/MainPage/MainPage.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}