webpackJsonp([2],{"6EyK":function(t,e){},Q6rg:function(t,e){},T5fb:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("WEwA"),i={name:"CameraUpdata",data:function(){return{}},mounted:function(){var t=this;this.$nextTick(function(){t.$refs.myCanvas.getContext("2d");var e=t.$refs.myVideo;t.getUserMedia({video:!0},function(t){e.src=t,e.play()},function(){})})},computed:{vobjClientWidth:function(){return this.$refs.myVideo?this.$refs.myVideo.clientWidth:0},vobjClientHeight:function(){return this.$refs.myVideo?this.$refs.myVideo.clientHeight:0}},methods:{getUserMedia:function(t,e,n){var a=function(){};if(navigator.getUserMedia)a=function(t,e,n){navigator.getUserMedia(t,function(t){e(window.URL.createObjectURL(t))},n)};else if(navigator.webkitGetUserMedia)a=function(t,e,n){navigator.webkitGetUserMedia(t,function(t){var n=window.URL||window.webkitURL;e(n.createObjectURL(t))},n)};else{if(!navigator.mozGetUserMedia)return!1;a=function(t,e,n){navigator.mozGetUserMedia(t,function(t){e(window.URL.createObjectURL(t))},n)}}return a(t,e,n)},paishe:function(){var t=this.$refs.myCanvas.getContext("2d"),e=this.$refs.myVideo;t.drawImage(e,0,0,this.vobjClientWidth,this.vobjClientHeight),this.$refs.myButton3.children[0].href=t.canvas.toDataURL("image/png")},yulan:function(){var t=this.$refs.myCanvas.getContext("2d");window.open(t.canvas.toDataURL("image/png"),"_blank")}}},r={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"component-camera-updata"},[n("video",{ref:"myVideo",attrs:{width:"95%",id:"myVideo"}}),t._v(" "),n("div",[n("button",{attrs:{id:"myButton"},on:{click:t.paishe}},[t._v("拍摄")]),t._v(" "),n("button",{attrs:{id:"myButton2"},on:{click:t.yulan}},[t._v("预览")]),t._v(" "),n("button",{ref:"myButton3",attrs:{id:"myButton3"}},[n("a",{attrs:{download:"video.png"}},[t._v("另存为")])])]),t._v(" "),n("canvas",{ref:"myCanvas",attrs:{width:t.vobjClientWidth,height:t.vobjClientHeight,id:"myCanvas"}})])},staticRenderFns:[]};var o={name:"CameraUpdata",data:function(){return{}},mounted:function(){var t=this;this.$nextTick(function(){t.$refs.canvas.getContext("2d");var e=t.$refs.video,n={video:!0},a=function(t){console.log("Video capture error: ",t.code)};navigator.getUserMedia?navigator.getUserMedia(n,function(t){e.src=window.URL.createObjectURL(t),e.play()},a):navigator.webkitGetUserMedia?navigator.webkitGetUserMedia(n,function(t){e.src=window.webkitURL.createObjectURL(t),e.play()},a):navigator.mozGetUserMedia?navigator.mozGetUserMedia(n,function(t){e.src=window.URL.createObjectURL(t),e.play()},a):alert("浏览器不支持HTML5！")})},methods:{paizhao:function(){var t=this.$refs.video;this.$refs.canvas.getContext("2d").drawImage(t,0,0,t.clientWidth,t.clientHeight)}}},s={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"component-camera-updata"},[n("div",{attrs:{id:"camera"}},[n("div",{attrs:{id:"contentHolder"}},[n("video",{ref:"video",attrs:{id:"video",width:"95%",autoplay:""}}),t._v(" "),n("canvas",{ref:"canvas",staticStyle:{display:"none"},attrs:{id:"canvas",width:"640",height:"480"}})]),t._v(" "),n("div",{attrs:{id:"buttons"}},[n("button",{staticClass:"btn btn_blue",attrs:{id:"btn_snap"},on:{click:t.paizhao}},[t._v("拍照")]),t._v(" "),n("button",{staticClass:"btn btn_blue",staticStyle:{display:"none"},attrs:{id:"btn_cancel"}},[t._v("取消")]),t._v(" "),n("button",{staticClass:"btn btn_green",staticStyle:{display:"none"},attrs:{id:"btn_upload"}},[t._v("上传")])])])])},staticRenderFns:[]};var c={name:"CameraWebrtc",data:function(){return{}},mounted:function(){this.$nextTick(function(){navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia,console.log(),navigator.getUserMedia({video:!0,audio:!1},function(t){this.$refs.iv.srcObject=t},console.log)})}},d={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"component-camera-webrtc"},[e("video",{ref:"iv",staticStyle:{width:"95%"},attrs:{src:"",id:"iv",autoplay:"autoplay"}})])},staticRenderFns:[]};var u={"camera-save":n("VU/8")(i,r,!1,function(t){n("Q6rg")},null,null).exports,"camera-updata":n("VU/8")(o,s,!1,function(t){n("VkVu")},null,null).exports,"camera-webrtc":n("VU/8")(c,d,!1,function(t){n("6EyK")},null,null).exports},l={name:"Shop",components:{TestHeaderTop:a.a},data:function(){return{selected:"camera-save",Cameras:u}}},v={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page-shop"},[n("test-header-top",{attrs:{"left-icon-type":"leftMenu"},scopedSlots:t._u([{key:"centerContent",fn:function(){return[n("div",{staticClass:"header-slot-cc"},[n("p",[t._v("会员购")])])]},proxy:!0},{key:"rightContent",fn:function(){return[n("div",{staticClass:"header-slot-rc"},[n("span",{staticClass:"m-gouwuche"},[n("i",{staticClass:"iconfont icon-gouwuche"})]),t._v(" "),n("span",{staticClass:"m-gouwuxinxi"},[n("i",{staticClass:"iconfont icon-gouwuxinxi"})])])]},proxy:!0}])}),t._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"selected"}],on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.selected=e.target.multiple?n:n[0]}}},t._l(t.Cameras,function(e,a){return n("option",{key:a},[t._v(t._s(a))])}),0),t._v(" "),n("br"),t._v(" "),n(t.Cameras[t.selected],{tag:"component"}),t._v("\nShop\n")],1)},staticRenderFns:[]};var f=n("VU/8")(l,v,!1,function(t){n("e0fB")},null,null);e.default=f.exports},VkVu:function(t,e){},e0fB:function(t,e){}});
//# sourceMappingURL=2.5547c21d0701e9156337.js.map