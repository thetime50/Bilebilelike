{"version":3,"sources":["webpack:///src/components/Camera/CameraSave.vue","webpack:///./src/components/Camera/CameraSave.vue?02e6","webpack:///./src/components/Camera/CameraSave.vue","webpack:///src/components/Camera/CameraUpdata.vue","webpack:///./src/components/Camera/CameraUpdata.vue?bf2b","webpack:///./src/components/Camera/CameraUpdata.vue","webpack:///src/components/Camera/CameraWebrtc.vue","webpack:///./src/components/Camera/CameraWebrtc.vue?eb5e","webpack:///./src/components/Camera/CameraWebrtc.vue","webpack:///src/pages/Test3/Test3.vue","webpack:///./src/pages/Test3/Test3.vue?fd34","webpack:///./src/pages/Test3/Test3.vue"],"names":["CameraSave","name","props","videoConfs","type","Object","default","data","vobjClientWidth","vobjClientHeight","mounted","_this","this","$nextTick","$refs","myCanvas","getContext","vobj","myVideo","getUserMedia","video","stream","src","play","window","addEventListener","_vobjClientWidth","_vobjClientHeight","methods","obj","success","error","navigator","URL","createObjectURL","webkitGetUserMedia","_URL","webkitURL","mozGetUserMedia","paishe","cobj","drawImage","myButton3","children","href","canvas","toDataURL","yulan","open","clientWidth","clientHeight","Camera_CameraSave","render","_vm","_h","$createElement","_c","_self","staticClass","ref","attrs","width","id","_v","on","click","download","height","staticRenderFns","components_Camera_CameraSave","__webpack_require__","normalizeComponent","ssrContext","CameraUpdata","videoObj","errBack","console","log","code","alert","paizhao","Camera_CameraUpdata","autoplay","staticStyle","display","components_Camera_CameraUpdata","CameraUpdata_normalizeComponent","CameraWebrtc","msGetUserMedia","audio","iv","srcObject","Camera_CameraWebrtc","Cameras","camera-save","camera-updata","camera-webrtc","CameraWebrtc_normalizeComponent","video : true","video : { facingMode:\"user\" }","facingMode","video : { facingMode:{exact:\"environment\"} }","exact","Test3","components","TestHeaderTop","selected","VCSelected","videoConf","Test3_Test3","left-icon-type","scopedSlots","_u","key","fn","proxy","directives","rawName","value","expression","change","$event","$$selectedVal","Array","prototype","filter","call","target","options","o","map","_value","multiple","_l","item","index","_s","tag","Test3_Component","Test3_normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/2.60c7838609b40bd80208.js","sourcesContent":["<template>\r\n  <div class=\"component-camera-updata\">\r\n    <video width=\"85%\" id=\"myVideo\" ref=\"myVideo\"></video>\r\n    <div>\r\n      <button id=\"myButton\" @click=\"paishe\">拍摄</button>\r\n      <button id=\"myButton2\" @click=\"yulan\">预览</button>\r\n      <button id=\"myButton3\" ref=\"myButton3\">\r\n        <a download=\"video.png\">另存为</a>\r\n      </button>\r\n    </div>\r\n    <canvas\r\n      :width=\"vobjClientWidth\"\r\n      :height=\"vobjClientHeight\"\r\n      id=\"myCanvas\"\r\n      ref=\"myCanvas\"\r\n    ></canvas>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n//Web调取摄像头拍照\r\n//https://www.cnblogs.com/dongh/p/6612082.html\r\n\r\nexport default {\r\n  name: \"CameraUpdata\",\r\n  props: {\r\n    videoConfs  :{type: Object ,default: ()=>{return {}}},\r\n  },\r\n  data() {\r\n    return {\r\n      vobjClientWidth:0,\r\n      vobjClientHeight:0,\r\n    };\r\n  },\r\n  mounted() {\r\n    this.$nextTick(() => {\r\n      var cobj = this.$refs.myCanvas.getContext(\"2d\");\r\n      var vobj = this.$refs.myVideo;\r\n      this.getUserMedia(\r\n        { video: this.videoConfs },\r\n        function(stream) {\r\n          vobj.src = stream;\r\n          vobj.play();\r\n        },\r\n        function() {}\r\n      );\r\n      window.addEventListener('resize', () => {\r\n        this._vobjClientWidth()\r\n        this._vobjClientHeight()\r\n      })\r\n      this._vobjClientWidth()\r\n      this._vobjClientHeight()\r\n    });\r\n  },\r\n  methods: {\r\n    getUserMedia(obj, success, error) {\r\n      let getUserMedia=function(){}\r\n      if (navigator.getUserMedia) {\r\n        getUserMedia = function(obj, success, error) {\r\n          navigator.getUserMedia(\r\n            obj,\r\n            function(stream) {\r\n              success(window.URL.createObjectURL(stream));\r\n            },\r\n            error\r\n          );\r\n        };\r\n      } else if (navigator.webkitGetUserMedia) {\r\n        getUserMedia = function(obj, success, error) {\r\n          navigator.webkitGetUserMedia(\r\n            obj,\r\n            function(stream) {\r\n              var _URL = window.URL || window.webkitURL;\r\n              success(_URL.createObjectURL(stream));\r\n            },\r\n            error\r\n          );\r\n        };\r\n      } else if (navigator.mozGetUserMedia) {\r\n        getUserMedia = function(obj, success, error) {\r\n          navigator.mozGetUserMedia(\r\n            obj,\r\n            function(stream) {\r\n              success(window.URL.createObjectURL(stream));\r\n            },\r\n            error\r\n          );\r\n        };\r\n      } else {\r\n        return false;\r\n      }\r\n      return getUserMedia(obj, success, error);\r\n    },\r\n    paishe() {\r\n      var cobj = this.$refs.myCanvas.getContext(\"2d\");\r\n      var vobj = this.$refs.myVideo;\r\n      cobj.drawImage(vobj, 0, 0, this.vobjClientWidth, this.vobjClientHeight);\r\n      this.$refs.myButton3.children[0].href = cobj.canvas.toDataURL(\r\n        \"image/png\"\r\n      );\r\n    },\r\n    yulan() {\r\n      var cobj = this.$refs.myCanvas.getContext(\"2d\");\r\n      window.open(cobj.canvas.toDataURL(\"image/png\"), \"_blank\");\r\n    },\r\n    _vobjClientWidth(){\r\n        this.vobjClientWidth= this.$refs.myVideo.clientWidth\r\n    },\r\n    _vobjClientHeight(){\r\n        this.vobjClientHeight= this.$refs.myVideo.clientHeight\r\n    },\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"stylus\"  rel=\"stylesheet/stylus\"></style>\n\n\n// WEBPACK FOOTER //\n// src/components/Camera/CameraSave.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"component-camera-updata\"},[_c('video',{ref:\"myVideo\",attrs:{\"width\":\"85%\",\"id\":\"myVideo\"}}),_vm._v(\" \"),_c('div',[_c('button',{attrs:{\"id\":\"myButton\"},on:{\"click\":_vm.paishe}},[_vm._v(\"拍摄\")]),_vm._v(\" \"),_c('button',{attrs:{\"id\":\"myButton2\"},on:{\"click\":_vm.yulan}},[_vm._v(\"预览\")]),_vm._v(\" \"),_c('button',{ref:\"myButton3\",attrs:{\"id\":\"myButton3\"}},[_c('a',{attrs:{\"download\":\"video.png\"}},[_vm._v(\"另存为\")])])]),_vm._v(\" \"),_c('canvas',{ref:\"myCanvas\",attrs:{\"width\":_vm.vobjClientWidth,\"height\":_vm.vobjClientHeight,\"id\":\"myCanvas\"}})])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-c1bed700\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Camera/CameraSave.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-c1bed700\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./CameraSave.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./CameraSave.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./CameraSave.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-c1bed700\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./CameraSave.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Camera/CameraSave.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"component-camera-updata\">\r\n    <div id=\"camera\">\r\n      <div id=\"contentHolder\">\r\n        <video id=\"video\" ref=\"video\" width=\"85%\" autoplay></video>\r\n        <canvas style=\"display:none;\" id=\"canvas\" ref=\"canvas\" width=\"640\" height=\"480\"></canvas>\r\n      </div>\r\n      <div id=\"buttons\">\r\n        <button id=\"btn_snap\" class=\"btn btn_blue\" @click=\"paizhao\">拍照</button>\r\n        <button id=\"btn_cancel\" class=\"btn btn_blue\" style=\"display:none;\">取消</button>\r\n        <button id=\"btn_upload\" class=\"btn btn_green\" style=\"display:none;\">上传</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n//web HTML5 调用摄像头的代码\r\n//https://www.cnblogs.com/wsk198726/p/5550535.html\r\n\r\nexport default {\r\n  name: \"CameraUpdata\",\r\n  props: {\r\n    videoConfs  :{type: Object ,default: ()=>{return {}}},\r\n  },\r\n  data() {\r\n    return {};\r\n  },\r\n  mounted() {\r\n    this.$nextTick(() => {\r\n      // 获取元素，创建设置等等\r\n      var canvas = this.$refs.canvas,\r\n        context = canvas.getContext(\"2d\"),\r\n        video = this.$refs.video,\r\n        videoObj = { video: this.videoConfs },\r\n        errBack = function(error) {\r\n          console.log(\"Video capture error: \", error.code);\r\n        };\r\n\r\n      // 添加video 监听器\r\n      if (navigator.getUserMedia) {\r\n        // 标准\r\n        navigator.getUserMedia(\r\n          videoObj,\r\n          function(stream) {\r\n            video.src = window.URL.createObjectURL(stream);\r\n            video.play();\r\n          },\r\n          errBack\r\n        );\r\n      } else if (navigator.webkitGetUserMedia) {\r\n        // WebKit 前缀\r\n        navigator.webkitGetUserMedia(\r\n          videoObj,\r\n          function(stream) {\r\n            video.src = window.webkitURL.createObjectURL(stream);\r\n            video.play();\r\n          },\r\n          errBack\r\n        );\r\n      } else if (navigator.mozGetUserMedia) {\r\n        // Firefox 前缀\r\n        navigator.mozGetUserMedia(\r\n          videoObj,\r\n          function(stream) {\r\n            video.src = window.URL.createObjectURL(stream);\r\n            video.play();\r\n          },\r\n          errBack\r\n        );\r\n      } else {\r\n        alert(\"浏览器不支持HTML5！\");\r\n        //console.log('your browser not support getUserMedia');\r\n      }\r\n    });\r\n  },\r\n  methods: {\r\n    paizhao() {\r\n      var video = this.$refs.video\r\n      var canvas = this.$refs.canvas,\r\n        context = canvas.getContext(\"2d\")\r\n      context.drawImage(video, 0, 0, video.clientWidth, video.clientHeight);\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"stylus\"  rel=\"stylesheet/stylus\">\r\n#camera {\r\n  /* width: 640px; */\r\n  /* height: 525px; */\r\n  width: 85%;\r\n  position: fixed;\r\n  border: 1px solid #f0f0f0;\r\n  -moz-border-radius: 4px 4px 0 0;\r\n  -webkit-border-radius: 4px 4px 0 0;\r\n  border-radius: 4px 4px 0 0;\r\n  -moz-box-shadow: 0 0 4px rgba(0, 0, 0, 0.6);\r\n  -webkit-box-shadow: 0 0 4px rgba(0, 0, 0, 0.6);\r\n  box-shadow: 0 0 4px rgba(0, 0, 0, 0.6);\r\n}\r\n\r\n#buttons {\r\n  text-align: center;\r\n}\r\n\r\n.btn {\r\n  width: 99px;\r\n  height: 38px;\r\n  line-height: 32px;\r\n  margin: 0px 4px 0px 0px;\r\n  border: 1px solid #fff;\r\n  -moz-border-radius: 5px; /* Gecko browsers */\r\n  -webkit-border-radius: 5px; /* Webkit browsers */\r\n  border-radius: 5px; /* W3C syntax */\r\n  cursor: default;\r\n  text-align: center;\r\n  font-size: 14px;\r\n  color: #fff;\r\n}\r\n\r\n.btn_blue {\r\n  background-color: #5CACEE;\r\n}\r\n\r\n.btn_green {\r\n  background-color: #00EE00;\r\n}\r\n\r\n.hidden {\r\n  display: none;\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/Camera/CameraUpdata.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"component-camera-updata\"},[_c('div',{attrs:{\"id\":\"camera\"}},[_c('div',{attrs:{\"id\":\"contentHolder\"}},[_c('video',{ref:\"video\",attrs:{\"id\":\"video\",\"width\":\"85%\",\"autoplay\":\"\"}}),_vm._v(\" \"),_c('canvas',{ref:\"canvas\",staticStyle:{\"display\":\"none\"},attrs:{\"id\":\"canvas\",\"width\":\"640\",\"height\":\"480\"}})]),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"buttons\"}},[_c('button',{staticClass:\"btn btn_blue\",attrs:{\"id\":\"btn_snap\"},on:{\"click\":_vm.paizhao}},[_vm._v(\"拍照\")]),_vm._v(\" \"),_c('button',{staticClass:\"btn btn_blue\",staticStyle:{\"display\":\"none\"},attrs:{\"id\":\"btn_cancel\"}},[_vm._v(\"取消\")]),_vm._v(\" \"),_c('button',{staticClass:\"btn btn_green\",staticStyle:{\"display\":\"none\"},attrs:{\"id\":\"btn_upload\"}},[_vm._v(\"上传\")])])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-d6cc9216\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Camera/CameraUpdata.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-d6cc9216\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./CameraUpdata.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./CameraUpdata.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./CameraUpdata.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-d6cc9216\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./CameraUpdata.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Camera/CameraUpdata.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"component-camera-webrtc\">\r\n    <video src id=\"iv\" ref=\"iv\" style=\"width:85%;\" autoplay=\"autoplay\"></video>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n//webrtc 调用摄像头并实时在浏览器中显示图像\r\n//https://www.jianshu.com/p/1ddfa72de165\r\n\r\nexport default {\r\n  name: \"CameraWebrtc\",\r\n  props: {\r\n    videoConfs  :{type: Object ,default: ()=>{return {}}},\r\n  },\r\n  data() {\r\n    return {};\r\n  },\r\n  mounted() {\r\n    this.$nextTick(() => {\r\n      //web rtc 调用摄像头(兼容性写法(谷歌、火狐、ie))\r\n      navigator.getUserMedia =\r\n        navigator.getUserMedia ||\r\n        navigator.webkitGetUserMedia ||\r\n        navigator.mozGetUserMedia ||\r\n        navigator.msGetUserMedia;\r\n\r\n      console.log();\r\n      //调用成功会回调返回一个stream流 video:true 表示采集视频,audio:true 表示采集声音,反之就都不采集\r\n      navigator.getUserMedia(\r\n        { video: this.videoConfs, audio: false },\r\n        (stream)=> {\r\n          //将采集到的视频信息显示在video标签中\r\n          this.$refs.iv.srcObject = stream;\r\n        },\r\n        console.log\r\n      );\r\n    });\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"stylus\"  rel=\"stylesheet/stylus\"></style>\n\n\n// WEBPACK FOOTER //\n// src/components/Camera/CameraWebrtc.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"component-camera-webrtc\"},[_c('video',{ref:\"iv\",staticStyle:{\"width\":\"85%\"},attrs:{\"src\":\"\",\"id\":\"iv\",\"autoplay\":\"autoplay\"}})])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-04d6768e\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Camera/CameraWebrtc.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-04d6768e\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./CameraWebrtc.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./CameraWebrtc.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./CameraWebrtc.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-04d6768e\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./CameraWebrtc.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Camera/CameraWebrtc.vue\n// module id = null\n// module chunks = ","<template>\n<div class=\"page-shop\">\n  <test-header-top left-icon-type=\"leftMenu\">\n    <template v-slot:centerContent>\n      <div class=\"header-slot-cc\">\n        <p>会员购</p>\n      </div>\n    </template>\n    <template v-slot:rightContent>\n      <div class=\"header-slot-rc\">\n        <span class=\"m-gouwuche\"><!-- gouwuche -->\n          <i class=\"iconfont icon-gouwuche\"></i>\n        </span>\n        <span class=\"m-gouwuxinxi\"><!-- gouwuxinxi -->\n            <i class=\"iconfont icon-gouwuxinxi\"></i>\n        </span>\n      </div>\n    </template>\n  </test-header-top>\n\n  <!-- <button @click=\"cnt++\">刷新</button> -->\n  <select v-model=\"selected\">\n    <!-- <option disabled value=\"\">请选择</option> -->\n    <option v-for=\"(item,index) in Cameras\" :key=\"index\">{{index}}</option>\n  </select>\n  <select v-model=\"VCSelected\">\n    <!-- <option disabled value=\"\">请选择</option> -->\n    <option v-for=\"(item,index) in videoConfs\" :key=\"index\">{{index}}</option>\n  </select>\n  <br>\n  <component :is=\"Cameras[selected]\" :key=\"VCSelected\" :videoConf=\"videoConf\"/>\n  Shop\n</div>\n</template>\n\n<script>\nimport TestHeaderTop  from \"../../components/TestHeaderTop/TestHeaderTop.vue\"\nimport CameraSave     from \"../../components/Camera/CameraSave.vue\"\nimport CameraUpdata   from \"../../components/Camera/CameraUpdata.vue\"\nimport CameraWebrtc   from \"../../components/Camera/CameraWebrtc.vue\"\n\nconst Cameras={\n  \"camera-save\"  :CameraSave  ,\n  \"camera-updata\":CameraUpdata,\n  \"camera-webrtc\":CameraWebrtc,\n}\nconst videoConfs = {\n  'video : true'                                : true,\n  'video : { facingMode:\"user\" }'               : { facingMode:\"user\" },\n  'video : { facingMode:{exact:\"environment\"} }': { facingMode:{exact:\"environment\"} },\n};\n\nexport default {\n  name: \"Shop\",\n  components: {\n    TestHeaderTop,\n  },\n\n  data () {\n    return {\n      selected:\"camera-save\",\n      Cameras:Cameras,\n      VCSelected:'video : true',\n      videoConfs:videoConfs,\n      videoConf:videoConfs[this.VCSelected],\n    };\n  }\n}\n</script>\n\n<style lang=\"stylus\"  rel=\"stylesheet/stylus\">\n  @import \"../../assets/style/index.styl\"\n\n  .page-shop\n    .iconfont\n      &.icon-gouwuche\n        font-size $com-iconsize*1.15\n      &.icon-gouwuxinxi\n        font-size $com-iconsize*1.1\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/Test3/Test3.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page-shop\"},[_c('test-header-top',{attrs:{\"left-icon-type\":\"leftMenu\"},scopedSlots:_vm._u([{key:\"centerContent\",fn:function(){return [_c('div',{staticClass:\"header-slot-cc\"},[_c('p',[_vm._v(\"会员购\")])])]},proxy:true},{key:\"rightContent\",fn:function(){return [_c('div',{staticClass:\"header-slot-rc\"},[_c('span',{staticClass:\"m-gouwuche\"},[_c('i',{staticClass:\"iconfont icon-gouwuche\"})]),_vm._v(\" \"),_c('span',{staticClass:\"m-gouwuxinxi\"},[_c('i',{staticClass:\"iconfont icon-gouwuxinxi\"})])])]},proxy:true}])}),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selected),expression:\"selected\"}],on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.selected=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.Cameras),function(item,index){return _c('option',{key:index},[_vm._v(_vm._s(index))])}),0),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.VCSelected),expression:\"VCSelected\"}],on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.VCSelected=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.videoConfs),function(item,index){return _c('option',{key:index},[_vm._v(_vm._s(index))])}),0),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c(_vm.Cameras[_vm.selected],{key:_vm.VCSelected,tag:\"component\",attrs:{\"videoConf\":_vm.videoConf}}),_vm._v(\"\\n  Shop\\n\")],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-34c8ac4b\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/Test3/Test3.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-34c8ac4b\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Test3.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Test3.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Test3.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-34c8ac4b\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Test3.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/Test3/Test3.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}